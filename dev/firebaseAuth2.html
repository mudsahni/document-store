<!DOCTYPE html>
<html>
<head>
    <title>Get Firebase Token</title>
</head>
<body>
<div>Custom Token: <input id="customToken" style="width: 500px"/></div>
<button onclick="getIdToken()">Get ID Token</button>
<div id="idToken" style="word-break: break-all;"></div>

<script type="module">
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js'
    import { getAuth, signInWithCustomToken } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js'

    // Your web app's Firebase configuration from Firebase Console
    const firebaseConfig = {
        // Your Firebase config from Firebase Console
        // Project Settings -> General -> Your apps -> Web app
        apiKey: "AIzaSyAYnj3TAUW7MvsBtydGeVlGJ2M2dq9wdJM",
        authDomain: "muditsahni-bb2eb.firebaseapp.com",
        projectId: "muditsahni-bb2eb",
        storageBucket: "muditsahni-bb2eb.firebasestorage.app",
        messagingSenderId: "741672280176",
        appId: "1:741672280176:web:c04fe4ee4fd3a1995814b5",
        measurementId: "G-JM51DTKYB3"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth();

    window.getIdToken = async function() {
        const customToken = document.getElementById('customToken').value;
        try {
            const userCredential = await signInWithCustomToken(auth, customToken);
            const idToken = await userCredential.user.getIdToken();
            document.getElementById('idToken').textContent = idToken;
            console.log('ID Token:', idToken);
        } catch (error) {
            console.error('Error:', error);
            alert('Error: ' + error.message);
        }
    }
</script>
</body>
</html>